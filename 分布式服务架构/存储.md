# 数据分片
## 哈希分片
* 原理
基于`哈希算法`（MD5，一致性哈希）将数据唯一标识（key）映射到固定范围的哈希值，再按节点数取模分配数据。
* 优势
数据分布均匀，避免热点问题。
* 局限
扩容需要重新计算哈希，可能导致大规模数据迁移（如哈希取模）；一致性哈希通过虚拟节点减少迁移量。
## 范围分片
* 原理
按key的有序范围划分数据（如时间戳或字典序），适合范围查询场景（如时间检索日志）。
* 挑战
易产生数据倾斜（如热点数据集中在某个范围）。
## 动态分片与负载均衡
* 实现
根据节点负载动态调整分片分布，例如通过crush算法（ceph）或虚拟节点实现自动扩缩容。
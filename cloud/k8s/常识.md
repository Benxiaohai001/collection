# apply一个pod流程
1. 提交pod配置
API Server
2. 资源验证与准入控制
    * 验证
    根据资源模型对pod配置进行验证。检查内容包括字段是否合法，引用资源是否存在等
    * 准入控制
    检查pod是否满足集群的相关策略，例如pod安全策略、资源配额等。
3. 调度pod到节点
    * 筛选节点
    根据pod资源需求、亲和性、反亲和性等要求，从集群中筛选出复合条件的节点
    * 绑定节点
    将pod与节点进行绑定，并将绑定信息更新到API Server。
4. 创建容器运行环境
    kubelet运行在绑定节点上，从API Server获取Pod的信息后，开始创建容器所需的环境。拉去镜像 设置容器网络 挂载存储卷等。
5. 启动并运行容器
    * 启动 
    容器环境准备好后，kubelet会启动容器中的进程。
    * 运行与监控
    kubelet会持续监控容器的运行状态，将状态回报给API Server。如果容器异常退出，kubelet会根据重启策略常识重启容器。
# k8s容器和虚拟机的隔离有什么区别？
1. 隔离级别
    * 容器隔离
    在操作系统层面进行隔离，多个容器共享宿主机内核，通过内核的命名空间进行隔离
    * 虚拟机
    硬件层面隔离，通过Hypervisor模拟出完整的硬件环境，每个虚拟机都有自己独立的操作系统，内核和硬件资源。
2. 资源开销
    * 容器：
    共享内核和系统资源，开销少，启动快，
    * 虚拟机
    由于需要单独的硬件资源和独立系统，开销大，启动慢。
3. 安全性
    * 容器
    隔离程度低，安全性弱；可以通过一些安全机制（SElinux，AppArmor）增强。
    * 虚拟机
    安全性高，
# 调度策略
